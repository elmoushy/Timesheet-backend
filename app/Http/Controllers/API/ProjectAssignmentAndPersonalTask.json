{
  "description": "API endpoints for retrieving employee project assignments and creating personal tasks",
  "base_url": "http://127.0.0.1:8000",
  "authentication": "Required for all endpoints - Bearer token authentication",
  "authorization": "Employee access - users can only access their own data",
  "items": [
    {
      "name": "Get Project Assignments",
      "description": "Retrieves all approved project assignments for the authenticated employee. Returns assignment data including assignment_id (required for creating project tasks), project details, and assignment timestamps.",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}/api/time-management/project-assignments",
          "host": ["{{base_url}}"],
          "path": ["api", "time-management", "project-assignments"]
        },
        "headers": [
          { "key": "Authorization", "value": "Bearer {{token}}" },
          { "key": "Accept", "value": "application/json" }
        ]
      },
      "response": {
        "status": 200,
        "body": {
          "message": "Project assignments retrieved successfully",
          "data": [
            {
              "assignment_id": 7,
              "project_id": 1,
              "project_name": "E-commerce Platform",
              "start_date": "2025-05-01",
              "end_date": "2025-08-30",
              "assigned_at": "2025-04-25T09:00:00.000000Z",
              "approved_at": "2025-04-26T14:30:00.000000Z"
            },
            {
              "assignment_id": 8,
              "project_id": 2,
              "project_name": "Mobile App Development",
              "start_date": "2025-06-15",
              "end_date": "2025-12-31",
              "assigned_at": "2025-05-10T11:15:00.000000Z",
              "approved_at": "2025-05-11T16:45:00.000000Z"
            }
          ]
        }
      },
      "errorResponses": [
        {
          "status": 401,
          "body": {
            "message": "Unauthorized access",
            "data": []
          }
        },
        {
          "status": 500,
          "body": {
            "message": "Error retrieving project assignments: [error details]",
            "data": []
          }
        }
      ]
    },
    {
      "name": "Create Personal Task",
      "description": "Creates a new personal task for the authenticated employee with title, description, due date, and estimated hours",
      "request": {
        "method": "POST",
        "url": {
          "raw": "{{base_url}}/api/time-management/personal-tasks",
          "host": ["{{base_url}}"],
          "path": ["api", "time-management", "personal-tasks"]
        },
        "headers": [
          { "key": "Authorization", "value": "Bearer {{token}}" },
          { "key": "Accept", "value": "application/json" },
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": {
            "title": "Complete project documentation",
            "description": "Write comprehensive API documentation for frontend team",
            "due_date": "2025-06-01",
            "estimated_hours": 12,
            "notes": "Include authentication flow diagrams"
          }
        }
      },
      "response": {
        "status": 200,
        "body": {
          "message": "Personal task created successfully",
          "data": {
            "id": 2,
            "employee_id": 1,
            "title": "Complete project documentation",
            "description": "Write comprehensive API documentation for frontend team",
            "status": "to-do",
            "progress_points": 0,
            "due_date": "2025-06-01",
            "estimated_hours": 12,
            "actual_hours": 0,
            "is_important": false,
            "is_pinned": false,
            "notes": "Include authentication flow diagrams",
            "created_at": "2025-05-25T10:00:00.000000Z",
            "updated_at": "2025-05-25T10:00:00.000000Z"
          }
        }
      },
      "errorResponses": [
        {
          "status": 422,
          "body": {
            "message": "The title field is required.",
            "data": []
          }
        },
        {
          "status": 500,
          "body": {
            "message": "Error creating personal task: [error details]",
            "data": []
          }
        }
      ]
    }
  ],
  "notes": {
    "implemented_endpoints": [
      "GET /api/time-management/project-assignments -> TimeManagementController@GetProject_Assignment",
      "POST /api/time-management/personal-tasks -> TimeManagementController@storePersonalTask"
    ],
    "route_controller_alignment": "Routes properly aligned with implemented controller methods.",
    "total_endpoints": 2,
    "categories": {
      "project_assignments": 1,
      "personal_tasks": 1
    },
    "important_usage_notes": {
      "project_assignments": {
        "assignment_id_usage": "The 'assignment_id' field from the project assignments response should be used as 'project_assignment_id' when creating project tasks via POST /api/time-management/project-tasks",
        "data_structure": "Response now includes both assignment metadata (assignment_id, assigned_at, approved_at) and project details (project_id, project_name, dates)",
        "foreign_key_relationship": "assignment_id maps to the 'id' field in xxx_project_employee_assignments table"
      }
    }
  }
}
