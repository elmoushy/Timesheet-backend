{
  "base_url": "http://127.0.0.1:8000",
  "item": [
    {
      "name": "Get Pending PM Approvals",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}/api/timesheets/pending-pm?page=1&per_page=10",
          "host": ["{{base_url}}"],
          "path": ["api", "timesheets", "pending-pm"],
          "query": [
            { "key": "page", "value": "1" },
            { "key": "per_page", "value": "10" }
          ]
        }
      },
      "response": {
        "status": 200,
        "body": {
          "message": "PM pending approval timesheets retrieved successfully",
          "data": {
            "current_page": 1,
            "data": [
              {
                "id": 1,
                "employee_id": 3,
                "period_start": "2023-10-02",
                "period_end": "2023-10-08",
                "overall_status": "in_review",
                "submitted_at": "2023-10-09T09:30:00.000000Z",
                "created_at": "2023-10-08T18:20:00.000000Z",
                "updated_at": "2023-10-09T09:30:00.000000Z",
                "rows": [
                  {
                    "id": 1,
                    "timesheet_id": 1,
                    "project_id": 5,
                    "task_id": 12,
                    "hours_monday": 8,
                    "hours_tuesday": 7.5,
                    "hours_wednesday": 8,
                    "hours_thursday": 8,
                    "hours_friday": 6.5,
                    "hours_saturday": 0,
                    "hours_sunday": 0,
                    "achievement_note": "Completed frontend redesign",
                    "project": {
                      "id": 5,
                      "name": "Website Redesign"
                    },
                    "task": {
                      "id": 12,
                      "name": "Frontend Development"
                    }
                  }
                ],
                "employee": {
                  "id": 3,
                  "first_name": "Jane",
                  "last_name": "Smith",
                  "email": "jane.smith@example.com"
                },
                "approvals": [
                  {
                    "id": 1,
                    "timesheet_id": 1,
                    "approver_id": 10,
                    "approver_role": "pm",
                    "status": "pending",
                    "acted_at": null,
                    "comment": null,
                    "created_at": "2023-10-09T09:30:00.000000Z",
                    "updated_at": "2023-10-09T09:30:00.000000Z"
                  }
                ]
              }
            ],
            "first_page_url": "http://127.0.0.1:8000/api/timesheets/pending-pm?page=1",
            "from": 1,
            "last_page": 1,
            "last_page_url": "http://127.0.0.1:8000/api/timesheets/pending-pm?page=1",
            "links": [],
            "next_page_url": null,
            "path": "http://127.0.0.1:8000/api/timesheets/pending-pm",
            "per_page": 10,
            "prev_page_url": null,
            "to": 1,
            "total": 1
          }
        }
      },
      "errorResponses": [
        {
          "status": 401,
          "body": {
            "message": "Unauthorized access",
            "data": []
          }
        },
        {
          "status": 403,
          "body": {
            "message": "You do not have project manager permissions",
            "data": []
          }
        },
        {
          "status": 500,
          "body": {
            "message": "Error retrieving PM pending approvals: [error message]",
            "data": []
          }
        }
      ]
    },
    {
      "name": "Get Pending DM Approvals",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}/api/timesheets/pending-dm?page=1&per_page=10",
          "host": ["{{base_url}}"],
          "path": ["api", "timesheets", "pending-dm"],
          "query": [
            { "key": "page", "value": "1" },
            { "key": "per_page", "value": "10" }
          ]
        }
      },
      "response": {
        "status": 200,
        "body": {
          "message": "DM pending approval timesheets retrieved successfully",
          "data": {
            "current_page": 1,
            "data": [
              {
                "id": 2,
                "employee_id": 4,
                "period_start": "2023-10-02",
                "period_end": "2023-10-08",
                "overall_status": "in_review",
                "submitted_at": "2023-10-09T10:15:00.000000Z",
                "created_at": "2023-10-08T19:45:00.000000Z",
                "updated_at": "2023-10-09T10:15:00.000000Z",
                "rows": [
                  {
                    "id": 3,
                    "timesheet_id": 2,
                    "project_id": 8,
                    "task_id": 24,
                    "hours_monday": 7,
                    "hours_tuesday": 8,
                    "hours_wednesday": 7,
                    "hours_thursday": 8,
                    "hours_friday": 6,
                    "hours_saturday": 0,
                    "hours_sunday": 0,
                    "achievement_note": "Completed API integration",
                    "project": {
                      "id": 8,
                      "name": "Mobile App Development"
                    },
                    "task": {
                      "id": 24,
                      "name": "Backend Integration"
                    }
                  }
                ],
                "employee": {
                  "id": 4,
                  "first_name": "John",
                  "last_name": "Doe",
                  "email": "john.doe@example.com"
                },
                "approvals": [
                  {
                    "id": 5,
                    "timesheet_id": 2,
                    "approver_id": 15,
                    "approver_role": "dm",
                    "status": "pending",
                    "acted_at": null,
                    "comment": null,
                    "created_at": "2023-10-09T10:20:00.000000Z",
                    "updated_at": "2023-10-09T10:20:00.000000Z"
                  }
                ]
              }
            ],
            "first_page_url": "http://127.0.0.1:8000/api/timesheets/pending-dm?page=1",
            "from": 1,
            "last_page": 1,
            "last_page_url": "http://127.0.0.1:8000/api/timesheets/pending-dm?page=1",
            "links": [],
            "next_page_url": null,
            "path": "http://127.0.0.1:8000/api/timesheets/pending-dm",
            "per_page": 10,
            "prev_page_url": null,
            "to": 1,
            "total": 1
          }
        }
      },
      "errorResponses": [
        {
          "status": 401,
          "body": {
            "message": "Unauthorized access",
            "data": []
          }
        },
        {
          "status": 403,
          "body": {
            "message": "You do not have department manager permissions",
            "data": []
          }
        },
        {
          "status": 500,
          "body": {
            "message": "Error retrieving DM pending approvals: [error message]",
            "data": []
          }
        }
      ]
    },
    {
      "name": "Get Pending GM Approvals",
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}/api/timesheets/pending-gm?page=1&per_page=10",
          "host": ["{{base_url}}"],
          "path": ["api", "timesheets", "pending-gm"],
          "query": [
            { "key": "page", "value": "1" },
            { "key": "per_page", "value": "10" }
          ]
        }
      },
      "response": {
        "status": 200,
        "body": {
          "message": "GM pending approval timesheets retrieved successfully",
          "data": {
            "current_page": 1,
            "data": [
              {
                "id": 3,
                "employee_id": 5,
                "period_start": "2023-10-02",
                "period_end": "2023-10-08",
                "overall_status": "in_review",
                "submitted_at": "2023-10-09T11:30:00.000000Z",
                "created_at": "2023-10-08T20:15:00.000000Z",
                "updated_at": "2023-10-09T11:30:00.000000Z",
                "rows": [
                  {
                    "id": 5,
                    "timesheet_id": 3,
                    "project_id": 12,
                    "task_id": 35,
                    "hours_monday": 8,
                    "hours_tuesday": 8,
                    "hours_wednesday": 8,
                    "hours_thursday": 8,
                    "hours_friday": 8,
                    "hours_saturday": 0,
                    "hours_sunday": 0,
                    "achievement_note": "Finalized project documentation",
                    "project": {
                      "id": 12,
                      "name": "Enterprise System Integration"
                    },
                    "task": {
                      "id": 35,
                      "name": "Documentation"
                    }
                  }
                ],
                "employee": {
                  "id": 5,
                  "first_name": "Robert",
                  "last_name": "Brown",
                  "email": "robert.brown@example.com"
                },
                "approvals": [
                  {
                    "id": 8,
                    "timesheet_id": 3,
                    "approver_id": 20,
                    "approver_role": "gm",
                    "status": "pending",
                    "acted_at": null,
                    "comment": null,
                    "created_at": "2023-10-09T11:45:00.000000Z",
                    "updated_at": "2023-10-09T11:45:00.000000Z"
                  }
                ]
              }
            ],
            "first_page_url": "http://127.0.0.1:8000/api/timesheets/pending-gm?page=1",
            "from": 1,
            "last_page": 1,
            "last_page_url": "http://127.0.0.1:8000/api/timesheets/pending-gm?page=1",
            "links": [],
            "next_page_url": null,
            "path": "http://127.0.0.1:8000/api/timesheets/pending-gm",
            "per_page": 10,
            "prev_page_url": null,
            "to": 1,
            "total": 1
          }
        }
      },
      "errorResponses": [
        {
          "status": 401,
          "body": {
            "message": "Unauthorized access",
            "data": []
          }
        },
        {
          "status": 403,
          "body": {
            "message": "You do not have general manager permissions",
            "data": []
          }
        },
        {
          "status": 500,
          "body": {
            "message": "Error retrieving GM pending approvals: [error message]",
            "data": []
          }
        }
      ]
    },
    {
      "name": "Approve Timesheet",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"comment\": \"Work completed as expected. Approved.\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/timesheets/1/approve",
          "host": ["{{base_url}}"],
          "path": ["api", "timesheets", "1", "approve"]
        }
      },
      "response": {
        "status": 200,
        "body": {
          "message": "Timesheet approved successfully",
          "data": {
            "id": 1,
            "employee_id": 3,
            "period_start": "2023-10-02",
            "period_end": "2023-10-08",
            "overall_status": "in_review",
            "submitted_at": "2023-10-09T09:30:00.000000Z",
            "created_at": "2023-10-08T18:20:00.000000Z",
            "updated_at": "2023-10-09T14:25:00.000000Z",
            "rows": [
              {
                "id": 1,
                "timesheet_id": 1,
                "project_id": 5,
                "task_id": 12,
                "hours_monday": 8,
                "hours_tuesday": 7.5,
                "hours_wednesday": 8,
                "hours_thursday": 8,
                "hours_friday": 6.5,
                "hours_saturday": 0,
                "hours_sunday": 0,
                "achievement_note": "Completed frontend redesign",
                "project": {
                  "id": 5,
                  "name": "Website Redesign"
                },
                "task": {
                  "id": 12,
                  "name": "Frontend Development"
                }
              }
            ],
            "approvals": [
              {
                "id": 1,
                "timesheet_id": 1,
                "approver_id": 10,
                "approver_role": "pm",
                "status": "approved",
                "acted_at": "2023-10-09T14:25:00.000000Z",
                "comment": "Work completed as expected. Approved.",
                "created_at": "2023-10-09T09:30:00.000000Z",
                "updated_at": "2023-10-09T14:25:00.000000Z",
                "approver": {
                  "id": 10,
                  "first_name": "Michael",
                  "last_name": "Johnson",
                  "email": "michael.johnson@example.com"
                }
              }
            ]
          }
        }
      },
      "errorResponses": [
        {
          "status": 401,
          "body": {
            "message": "Unauthorized access",
            "data": []
          }
        },
        {
          "status": 403,
          "body": {
            "message": "You do not have an active approval request for this timesheet",
            "data": []
          }
        },
        {
          "status": 404,
          "body": {
            "message": "Timesheet not found",
            "data": []
          }
        },
        {
          "status": 422,
          "body": {
            "message": "The comment field cannot exceed 500 characters.",
            "data": []
          }
        },
        {
          "status": 500,
          "body": {
            "message": "Error approving timesheet: [error message]",
            "data": []
          }
        }
      ]
    },
    {
      "name": "Reject Timesheet",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"comment\": \"Hours reported for Thursday seem excessive. Please review and resubmit.\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/timesheets/2/reject",
          "host": ["{{base_url}}"],
          "path": ["api", "timesheets", "2", "reject"]
        }
      },
      "response": {
        "status": 200,
        "body": {
          "message": "Timesheet rejected successfully",
          "data": {
            "id": 2,
            "employee_id": 4,
            "period_start": "2023-10-02",
            "period_end": "2023-10-08",
            "overall_status": "rejected",
            "submitted_at": "2023-10-09T10:15:00.000000Z",
            "created_at": "2023-10-08T19:45:00.000000Z",
            "updated_at": "2023-10-09T15:10:00.000000Z",
            "rows": [
              {
                "id": 3,
                "timesheet_id": 2,
                "project_id": 8,
                "task_id": 24,
                "hours_monday": 7,
                "hours_tuesday": 8,
                "hours_wednesday": 7,
                "hours_thursday": 8,
                "hours_friday": 6,
                "hours_saturday": 0,
                "hours_sunday": 0,
                "achievement_note": "Completed API integration",
                "project": {
                  "id": 8,
                  "name": "Mobile App Development"
                },
                "task": {
                  "id": 24,
                  "name": "Backend Integration"
                }
              }
            ],
            "approvals": [
              {
                "id": 5,
                "timesheet_id": 2,
                "approver_id": 15,
                "approver_role": "dm",
                "status": "rejected",
                "acted_at": "2023-10-09T15:10:00.000000Z",
                "comment": "Hours reported for Thursday seem excessive. Please review and resubmit.",
                "created_at": "2023-10-09T10:20:00.000000Z",
                "updated_at": "2023-10-09T15:10:00.000000Z",
                "approver": {
                  "id": 15,
                  "first_name": "Sarah",
                  "last_name": "Williams",
                  "email": "sarah.williams@example.com"
                }
              }
            ]
          }
        }
      },
      "errorResponses": [
        {
          "status": 401,
          "body": {
            "message": "Unauthorized access",
            "data": []
          }
        },
        {
          "status": 403,
          "body": {
            "message": "You do not have an active approval request for this timesheet",
            "data": []
          }
        },
        {
          "status": 404,
          "body": {
            "message": "Timesheet not found",
            "data": []
          }
        },
        {
          "status": 422,
          "body": {
            "message": "The comment field is required.",
            "data": []
          }
        },
        {
          "status": 500,
          "body": {
            "message": "Error rejecting timesheet: [error message]",
            "data": []
          }
        }
      ]
    },
    {
      "name": "Reopen Timesheet",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"comment\": \"Please fix the hours reported and resubmit.\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/api/timesheets/3/reopen",
          "host": ["{{base_url}}"],
          "path": ["api", "timesheets", "3", "reopen"]
        }
      },
      "response": {
        "status": 200,
        "body": {
          "message": "Timesheet reopened successfully",
          "data": {
            "id": 3,
            "employee_id": 5,
            "period_start": "2023-10-02",
            "period_end": "2023-10-08",
            "overall_status": "reopened",
            "submitted_at": "2023-10-09T11:30:00.000000Z",
            "created_at": "2023-10-08T20:15:00.000000Z",
            "updated_at": "2023-10-09T16:45:00.000000Z",
            "rows": [
              {
                "id": 5,
                "timesheet_id": 3,
                "project_id": 12,
                "task_id": 35,
                "hours_monday": 8,
                "hours_tuesday": 8,
                "hours_wednesday": 8,
                "hours_thursday": 8,
                "hours_friday": 8,
                "hours_saturday": 0,
                "hours_sunday": 0,
                "achievement_note": "Finalized project documentation",
                "project": {
                  "id": 12,
                  "name": "Enterprise System Integration"
                },
                "task": {
                  "id": 35,
                  "name": "Documentation"
                }
              }
            ]
          }
        }
      },
      "errorResponses": [
        {
          "status": 401,
          "body": {
            "message": "Unauthorized access",
            "data": []
          }
        },
        {
          "status": 403,
          "body": {
            "message": "You do not have permission to reopen this timesheet",
            "data": []
          }
        },
        {
          "status": 404,
          "body": {
            "message": "Timesheet not found",
            "data": []
          }
        },
        {
          "status": 422,
          "body": {
            "message": "The comment field is required.",
            "data": []
          }
        },
        {
          "status": 500,
          "body": {
            "message": "Error reopening timesheet: [error message]",
            "data": []
          }
        }
      ]
    }
  ]
}
